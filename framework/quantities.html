

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quantities &mdash; mp-units 0.6.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Quantity Points" href="quantity_points.html" />
    <link rel="prev" title="Basic Concepts" href="basic_concepts.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> mp-units
          

          
          </a>

          
            
            
              <div class="version">
                0.6.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../framework.html">Framework Basics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="basic_concepts.html">Basic Concepts</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Quantities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#quantity-construction">Quantity Construction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dimension-specific-concepts">Dimension-specific Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#working-with-constrained-deduced-quantity-types">Working With Constrained Deduced Quantity Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dimensionless-quantities">Dimensionless Quantities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quantity_points.html">Quantity Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="dimensions.html">Dimensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="units.html">Units</a></li>
<li class="toctree-l2"><a class="reference internal" href="constants.html">Quantity Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="conversions_and_casting.html">Conversions and Casting</a></li>
<li class="toctree-l2"><a class="reference internal" href="text_output.html">Text Output</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../use_cases.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design.html">Design Deep Dive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mp-units</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../framework.html">Framework Basics</a> &raquo;</li>
        
      <li>Quantities</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/framework/quantities.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quantities">
<h1>Quantities<a class="headerlink" href="#quantities" title="Permalink to this headline">¶</a></h1>
<p>A <a class="reference internal" href="../glossary.html#term-quantity"><span class="xref std std-term">quantity</span></a> is a concrete amount of a unit for a specified dimension
with a specific representation and is represented in the library with a
<code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">quantity</span></code> class template.</p>
<div class="section" id="quantity-construction">
<h2>Quantity Construction<a class="headerlink" href="#quantity-construction" title="Permalink to this headline">¶</a></h2>
<p>To create the quantity object from a <a class="reference internal" href="../glossary.html#term-scalar"><span class="xref std std-term">scalar</span></a> we just have to pass
the value to the <code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">quantity</span></code> class template explicit constructor:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">quantity</span><span class="o">&lt;</span><span class="n">si</span><span class="o">::</span><span class="n">dim_length</span><span class="p">,</span> <span class="n">si</span><span class="o">::</span><span class="n">kilometre</span><span class="p">,</span> <span class="kt">double</span><span class="o">&gt;</span> <span class="n">d</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As the constructor is explicit, the quantity object can be created from
an “unsafe” fundamental type only via
<a class="reference external" href="https://en.cppreference.com/w/cpp/language/direct_initialization">direct initialization</a>.
This is why the code below using
<a class="reference external" href="https://en.cppreference.com/w/cpp/language/copy_initialization">copy initialization</a>
<strong>does not compile</strong>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">quantity</span><span class="o">&lt;</span><span class="n">si</span><span class="o">::</span><span class="n">dim_length</span><span class="p">,</span> <span class="n">si</span><span class="o">::</span><span class="n">kilometre</span><span class="p">,</span> <span class="kt">double</span><span class="o">&gt;</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">123</span><span class="p">;</span>  <span class="c1">// ERROR</span>
</pre></div>
</div>
</div>
<p>To simplify <code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">quantity</span></code> objects creation the library provides helper aliases for
quantities of each <a class="reference internal" href="../glossary.html#term-dimension"><span class="xref std std-term">dimension</span></a> which additionally set the representation
type to <code class="docutils literal notranslate"><span class="pre">double</span></code> by default:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">namespace</span> <span class="n">si</span> <span class="p">{</span>

<span class="k">template</span><span class="o">&lt;</span><span class="n">Unit</span> <span class="n">U</span><span class="p">,</span> <span class="n">Scalar</span> <span class="n">Rep</span> <span class="o">=</span> <span class="kt">double</span><span class="o">&gt;</span>
<span class="k">using</span> <span class="n">length</span> <span class="o">=</span> <span class="n">quantity</span><span class="o">&lt;</span><span class="n">dim_length</span><span class="p">,</span> <span class="n">U</span><span class="p">,</span> <span class="n">Rep</span><span class="o">&gt;</span><span class="p">;</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Thanks to that, the above example can be rewritten as follows:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">si</span><span class="o">::</span><span class="n">length</span><span class="o">&lt;</span><span class="n">si</span><span class="o">::</span><span class="n">kilometre</span><span class="o">&gt;</span> <span class="n">d</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span>
</pre></div>
</div>
<p>To further simplify construction of quantities with compile-time known
values the library provides <abbr title="User Defined Literal">UDL</abbr> s for each
<a class="reference internal" href="../glossary.html#term-unit"><span class="xref std std-term">unit</span></a> of every <a class="reference internal" href="../glossary.html#term-dimension"><span class="xref std std-term">dimension</span></a>. Thanks to them the same code can
be as simple as:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">units</span><span class="o">::</span><span class="n">physical</span><span class="o">::</span><span class="n">si</span><span class="o">::</span><span class="n">literals</span><span class="p">;</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">d1</span> <span class="o">=</span> <span class="mi">123</span><span class="n">q_km</span><span class="p">;</span>    <span class="c1">// si::length&lt;si::kilometre, std::int64_t&gt;</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">d2</span> <span class="o">=</span> <span class="mf">123.</span><span class="n">q_km</span><span class="p">;</span>   <span class="c1">// si::length&lt;si::kilometre, long double&gt;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">123q_km</span></code> should be read as a quantity of length in kilometers. Initially the
library did not use the <code class="docutils literal notranslate"><span class="pre">q_</span></code> prefix for UDLs but it turned out that there are
a few unit symbols that collide with literals already existing in C and C++
language (i.e. <code class="docutils literal notranslate"><span class="pre">F</span></code> (farad), <code class="docutils literal notranslate"><span class="pre">J</span></code> (joule), <code class="docutils literal notranslate"><span class="pre">W</span></code> (watt), <code class="docutils literal notranslate"><span class="pre">K</span></code> (kelvin),
<code class="docutils literal notranslate"><span class="pre">d</span></code> (day), <code class="docutils literal notranslate"><span class="pre">l</span></code> or <code class="docutils literal notranslate"><span class="pre">L</span></code> (litre), <code class="docutils literal notranslate"><span class="pre">erg</span></code>, <code class="docutils literal notranslate"><span class="pre">ergps</span></code>). This is why the
<code class="docutils literal notranslate"><span class="pre">q_</span></code> prefix was consistently applied to all the UDLs.</p>
</div>
<div class="section" id="dimension-specific-concepts">
<h2>Dimension-specific Concepts<a class="headerlink" href="#dimension-specific-concepts" title="Permalink to this headline">¶</a></h2>
<p>In case the user does not care about the specific unit and representation but
requires quantity of a concrete dimension than dimension-specific concepts can
be used:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">units</span><span class="o">::</span><span class="n">physical</span><span class="o">::</span><span class="n">si</span><span class="o">::</span><span class="n">literals</span><span class="p">;</span>
<span class="k">constexpr</span> <span class="n">Length</span> <span class="k">auto</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">123</span><span class="n">q_km</span><span class="p">;</span>  <span class="c1">// si::length&lt;si::kilometre, std::int64_t&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All instances of <code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">quantity</span></code> class always match the <code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">Quantity</span></code> concept.
All other regular types that are not quantities are called
<a class="reference internal" href="../glossary.html#term-scalar"><span class="xref std std-term">scalars</span></a> by the library and match the <code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">Scalar</span></code> concept.</p>
</div>
<p>However, the above is not the most important usage of those concepts. Let’s
assume that the user wants to implement an <code class="docutils literal notranslate"><span class="pre">avg_speed</span></code> function that will
be calculating the average speed based on provided distance and duration
quantities. The usage of such a function can look as follows:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="k">namespace</span> <span class="n">units</span><span class="o">::</span><span class="n">physical</span><span class="o">::</span><span class="n">si</span><span class="o">::</span><span class="n">literals</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">units</span><span class="o">::</span><span class="n">physical</span><span class="o">::</span><span class="n">international</span><span class="o">::</span><span class="n">literals</span><span class="p">;</span>
<span class="k">constexpr</span> <span class="n">Speed</span> <span class="k">auto</span> <span class="n">v1</span> <span class="o">=</span> <span class="n">avg_speed</span><span class="p">(</span><span class="mi">220</span><span class="n">q_km</span><span class="p">,</span> <span class="mi">2</span><span class="n">q_h</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="n">Speed</span> <span class="k">auto</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">avg_speed</span><span class="p">(</span><span class="mi">140</span><span class="n">q_mi</span><span class="p">,</span> <span class="mi">2</span><span class="n">q_h</span><span class="p">);</span>
</pre></div>
</div>
<p>In this and all other physical units libraries such a function can be
implemented as:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="n">si</span><span class="o">::</span><span class="n">speed</span><span class="o">&lt;</span><span class="n">si</span><span class="o">::</span><span class="n">metre_per_second</span><span class="o">&gt;</span> <span class="n">avg_speed</span><span class="p">(</span><span class="n">si</span><span class="o">::</span><span class="n">length</span><span class="o">&lt;</span><span class="n">si</span><span class="o">::</span><span class="n">metre</span><span class="o">&gt;</span> <span class="n">d</span><span class="p">,</span>
                                                    <span class="n">si</span><span class="o">::</span><span class="n">time</span><span class="o">&lt;</span><span class="n">si</span><span class="o">::</span><span class="n">second</span><span class="o">&gt;</span> <span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="n">d</span> <span class="o">/</span> <span class="n">t</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>While being correct, this function performs unnecessary intermediate
conversions (from kilometers to meters, from hours to seconds,
and from meters per second to kilometers per hour) which can affect
runtime performance and the precision of the final result. To eliminate
all that overhead we have to write a template function:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">U1</span><span class="p">,</span> <span class="k">typename</span> <span class="n">R1</span><span class="p">,</span> <span class="k">typename</span> <span class="n">U2</span><span class="p">,</span> <span class="k">typename</span> <span class="n">R2</span><span class="o">&gt;</span>
<span class="k">constexpr</span> <span class="k">auto</span> <span class="n">avg_speed</span><span class="p">(</span><span class="n">si</span><span class="o">::</span><span class="n">length</span><span class="o">&lt;</span><span class="n">U1</span><span class="p">,</span> <span class="n">R1</span><span class="o">&gt;</span> <span class="n">d</span><span class="p">,</span> <span class="n">si</span><span class="o">::</span><span class="n">time</span><span class="o">&lt;</span><span class="n">U2</span><span class="p">,</span> <span class="n">R2</span><span class="o">&gt;</span> <span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="n">d</span> <span class="o">/</span> <span class="n">t</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This function will work for every SI unit and representation without any
unnecessary overhead. It is also simple enough to prove its implementation
being correct just by a simple inspection. However, it might not always be
the case. For more complicated calculations we would like to ensure that we
are returning a physical quantity of a correct dimension. For this
dimension-specific concepts come handy again and with usage of C++20 generic
functions our function can look as simple as:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="n">Speed</span> <span class="k">auto</span> <span class="nf">avg_speed</span><span class="p">(</span><span class="n">Length</span> <span class="k">auto</span> <span class="n">d</span><span class="p">,</span> <span class="n">Time</span> <span class="k">auto</span> <span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="n">d</span> <span class="o">/</span> <span class="n">t</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now we are sure that the dimension of returned quantity is correct. Also
please note that with the above code we implemented a truly generic function
that works efficiently not only with SI units but also with other systems of
units like CGS.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Please refer to <a class="reference internal" href="../examples/avg_speed.html#avg-speed"><span class="std std-ref">avg_speed</span></a> example for more information on different
kinds of interfaces supported by the library.</p>
</div>
</div>
<div class="section" id="working-with-constrained-deduced-quantity-types">
<h2>Working With Constrained Deduced Quantity Types<a class="headerlink" href="#working-with-constrained-deduced-quantity-types" title="Permalink to this headline">¶</a></h2>
<p>It is important to note that when we assign a result from the function to an
automatically deduced type, even if it is constrained by a dimension-specific
concept, we still do not know what is the exact unit and representation type
of such a quantity. In many cases it might be exactly what we want to get,
but often we would like to know a specific type too. We have two options here:</p>
<ul>
<li><p>query the actual dimension, unit, and representation types:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="n">Speed</span> <span class="k">auto</span> <span class="n">v</span> <span class="o">=</span> <span class="n">avg_speed</span><span class="p">(</span><span class="mi">220</span><span class="n">q_km</span><span class="p">,</span> <span class="mi">2</span><span class="n">q_h</span><span class="p">);</span>
<span class="k">using</span> <span class="n">quantity_type</span> <span class="o">=</span> <span class="k">decltype</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
<span class="k">using</span> <span class="n">dimension_type</span> <span class="o">=</span> <span class="n">quantity_type</span><span class="o">::</span><span class="n">dimension</span><span class="p">;</span>
<span class="k">using</span> <span class="n">unit_type</span> <span class="o">=</span> <span class="n">quantity_type</span><span class="o">::</span><span class="n">unit</span><span class="p">;</span>
<span class="k">using</span> <span class="n">rep_type</span> <span class="o">=</span> <span class="n">quantity_type</span><span class="o">::</span><span class="n">rep</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>convert or cast to a desired quantity type:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">constexpr</span> <span class="n">Speed</span> <span class="k">auto</span> <span class="n">v1</span> <span class="o">=</span> <span class="n">avg_speed</span><span class="p">(</span><span class="mf">220.</span><span class="n">q_km</span><span class="p">,</span> <span class="mi">2</span><span class="n">q_h</span><span class="p">);</span>
<span class="k">constexpr</span> <span class="n">si</span><span class="o">::</span><span class="n">speed</span><span class="o">&lt;</span><span class="n">si</span><span class="o">::</span><span class="n">metre_per_second</span><span class="o">&gt;</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">v1</span><span class="p">;</span>
<span class="k">constexpr</span> <span class="n">Speed</span> <span class="k">auto</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">quantity_cast</span><span class="o">&lt;</span><span class="n">si</span><span class="o">::</span><span class="n">speed</span><span class="o">&lt;</span><span class="n">si</span><span class="o">::</span><span class="n">metre_per_second</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v1</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>More information on this subject can be found in <a class="reference internal" href="conversions_and_casting.html#conversions-and-casting"><span class="std std-ref">Conversions and Casting</span></a>
chapter.</p>
</div>
</div>
<div class="section" id="dimensionless-quantities">
<h2>Dimensionless Quantities<a class="headerlink" href="#dimensionless-quantities" title="Permalink to this headline">¶</a></h2>
<p>Whenever we divide two quantities of the same dimension we end up with a
<a class="reference internal" href="../glossary.html#term-dimensionless-quantity"><span class="xref std std-term">dimensionless quantity</span></a> otherwise known as <a class="reference internal" href="../glossary.html#term-quantity-of-dimension-one"><span class="xref std std-term">quantity of dimension one</span></a>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static_assert</span><span class="p">(</span><span class="mi">10</span><span class="n">q_km</span> <span class="o">/</span> <span class="mi">5</span><span class="n">q_km</span> <span class="o">==</span> <span class="mi">2</span><span class="p">);</span>
<span class="k">static_assert</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">is_same_v</span><span class="o">&lt;</span><span class="k">decltype</span><span class="p">(</span><span class="mi">10</span><span class="n">q_km</span> <span class="o">/</span> <span class="mi">5</span><span class="n">q_km</span><span class="p">),</span> <span class="n">quantity</span><span class="o">&lt;</span><span class="n">dim_one</span><span class="p">,</span> <span class="n">unitless</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="kt">int64_t</span><span class="o">&gt;&gt;</span><span class="p">);</span>
</pre></div>
</div>
<p>According to the official ISO definition <code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">dim_one</span></code> is a dimension “for which all the
exponents of the factors corresponding to the base quantities in its quantity dimension
are zero”.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Reasoning for the above design is provided in
<a class="reference internal" href="../faq.html#why-a-dimensionless-quantity-is-not-just-an-fundamental-arithmetic-type"><span class="std std-ref">Why a dimensionless quantity is not just an fundamental arithmetic type?</span></a></p>
</div>
<p>To simplify the usage of the dimensionless quantity a following concept and alias template
are provided:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">T</span><span class="o">&gt;</span>
<span class="k">concept</span> <span class="n">Dimensionless</span> <span class="o">=</span> <span class="n">QuantityOf</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span> <span class="n">dim_one</span><span class="o">&gt;</span><span class="p">;</span>

<span class="k">template</span><span class="o">&lt;</span><span class="n">Unit</span> <span class="n">U</span><span class="p">,</span> <span class="n">Scalar</span> <span class="n">Rep</span> <span class="o">=</span> <span class="kt">double</span><span class="o">&gt;</span>
<span class="k">using</span> <span class="n">dimensionless</span> <span class="o">=</span> <span class="n">quantity</span><span class="o">&lt;</span><span class="n">dim_one</span><span class="p">,</span> <span class="n">U</span><span class="p">,</span> <span class="n">Rep</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>
</div>
<p>There are two special units provided for usage with such a quantity:</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">unitless</span></code> which is the <span class="xref std std-ref">coherent unit</span> of dimensionless quantity and does not
provide any textual symbol (according to the ISO definition “the measurement units and
values of quantities of dimension one are numbers”),</p></li>
<li><p><code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">percent</span></code> which has the symbol <code class="docutils literal notranslate"><span class="pre">%</span></code> and <code class="docutils literal notranslate"><span class="pre">ratio(1,</span> <span class="pre">100)</span></code> of the <code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">unitless</span></code> unit.</p></li>
</ul>
<p>For example the following code:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">quantity_cast</span><span class="o">&lt;</span><span class="n">percent</span><span class="o">&gt;</span><span class="p">(</span><span class="mf">50.</span><span class="n">q_m</span> <span class="o">/</span> <span class="mf">100.</span><span class="n">q_m</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>will print <code class="docutils literal notranslate"><span class="pre">50</span> <span class="pre">%</span></code> to the console output.</p>
<p>Again, according to the ISO definition “such quantities convey more information than a
number”. This is exactly what we observe in the above example. The value stored inside
the quantity, the text output, and the value returned by the <code class="xref cpp cpp-any docutils literal notranslate"><span class="pre">quantity::count</span></code> member
function is <code class="docutils literal notranslate"><span class="pre">50</span></code> rather than <code class="docutils literal notranslate"><span class="pre">0.5</span></code>. It means that dimensionless quantities behave
like all other quantities and store the value in terms of a ratio of a coherent unit.
This allows us to not loose precision when we divide quantities of the same dimensions
but with units having vastly different ratios, e.g.
<a class="reference external" href="https://en.wikipedia.org/wiki/Hubble%27s_law#Dimensionless_Hubble_parameter">Dimensionless Hubble parameter</a>
is expressed as a ratio of kilometers and megaparsecs.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>More information on dimensionless quantities can be found in
<a class="reference internal" href="conversions_and_casting.html#implicit-conversions-of-dimensionless-quantities"><span class="std std-ref">Implicit conversions of dimensionless quantities</span></a>.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="quantity_points.html" class="btn btn-neutral float-right" title="Quantity Points" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="basic_concepts.html" class="btn btn-neutral float-left" title="Basic Concepts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2018-present, Mateusz Pusz

    </p>
  </div>
    
    
      Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>